!function(){var t={2190:function(t,e,n){"use strict";n.d(e,{Qk:function(){return R},KT:function(){return E}}),n(7762),n(9650),n(4509),n(6064),n(2975),n(7482),n(5165),n(5890);var i=n(2508);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}var u={default:"default",line:"line",rect:"rect",arc:"arc",any:"any"},l=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.kline=e,this.dpr=this.kline.dpr,this.set(n),this.display=n.display,this.baseType=u.default,this.id=i.A.uid()},e=[{key:"set",value:function(t){t||(t={}),this.x=t.x?t.x*this.dpr:0,this.y=t.y?t.y*this.dpr:0,this.width=t.width?t.width*this.dpr:10*this.dpr,this.height=t.height?t.height*this.dpr:10*this.dpr,this.borderColor=t.borderColor||"rgba(0,0,0,1)",this.borderWidth=t.borderWidth?t.borderWidth*this.dpr:this.dpr,this.borderRadius=t.borderRadius?t.borderRadius*this.dpr:0,this.fillColor=t.fillColor||"rgba(0,0,0,1)",this.strokeStyle=t.strokeStyle,this.text=t.text,this.textAlign=t.textAlign||"left",this.textBaseline=t.textBaseline||"middle",this.bgImage=t.bgImage,this.drawType=0,this.events={},this.mouseEnter=!1,this.mouseMove=!1,this.mouseOut=!1,this.mouseDown=!1,this.followx=t.followx,this.followy=t.followy,this.followKline=t.followKline,this.drawEvent=t.drawEvent,this.top=t.top,this.init()}},{key:"init",value:function(){this.kline.addComponent(this)}},{key:"addEventListener",value:function(t,e){this.events[t]=e}},{key:"removeEvnetListener",value:function(t){this.events[t]&&delete this.events[t]}},{key:"draw",value:function(){this.display&&(this.kline.context.lineWidth=this.borderWidth*this.dpr,0==this.stroke&&(this.kline.context.fillStyle=this.fillStyle,this.kline.context.stroke()),1==this.stroke&&(this.kline.context.fillStyle=this.fillStyle,this.kline.context.fill()))}},{key:"hideWhenBound",value:function(){if(!this.kline.hideGridPrice&&this.kline.theme.gridPriceBgShow){if(this.kline.theme.gridPriceWidth>0&&1==this.kline.theme.gridPriceDirection&&this.x>this.kline.width-this.kline.theme.gridPriceWidth*this.kline.dpr)return!0;if(this.kline.theme.gridPriceWidth>0&&0==this.kline.theme.gridPriceDirection&&this.x<this.kline.theme.gridPriceWidth*this.kline.dpr)return!0}}},{key:"stroke",value:function(){this.drawType=0}},{key:"fill",value:function(){this.drawType=1}},{key:"fillAndStroke",value:function(){this.drawType=2}},{key:"mouseInTheView",value:function(t,e){return t*=this.dpr,e*=this.dpr,this.points?i.A.isInPolygon(t,e,this.points):t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}},{key:"onMouseEnter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;this.addEventListener("onMouseEnter",(function(i,r){var o=i.mx,s=i.my;if(n.mouseInTheView(o,s)&&!n.mouseEnter)return n.kline.sortComponent(n),n.mouseEnter=!0,t(i,n.kline,n),"function"==typeof e?e():e}))}},{key:"onMouseLeave",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;this.addEventListener("onMouseLeave",(function(i,r){var o=i.mx,s=i.my;if(n.mouseEnter&&!n.mouseInTheView(o,s))return n.mouseEnter=!1,t(i,n.kline,n),"function"==typeof e?e():e}))}},{key:"onMouseMove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;this.addEventListener("onMouseMove",(function(i,r){var o=i.mx,s=i.my;return!n.mouseInTheView(o,s)||r.isMouseDown||n.mouseDown?n.mouseDown?(t(i,n.kline,n),"function"==typeof e?e():e):void 0:(n.kline.sortComponent(n),n.mouseEnter=!0,t(i,n.kline,n),"function"==typeof e?e():e)}))}},{key:"onMouseOut",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;this.addEventListener("onMouseOut",(function(i,r){var o=i.mx,s=i.my;if(n.mouseEnter&&!n.mouseInTheView(o,s))return n.mouseEnter=!1,t(i,n.kline,n),"function"==typeof e?e():e}))}},{key:"onMouseDown",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;this.addEventListener("onMouseDown",(function(i,r){var o=i.mx,s=i.my;if(n.mouseInTheView(o,s))return n.mouseDown=!0,t(i,n.kline,n),"function"==typeof e?e():e;n.mouseDown=!1}))}},{key:"onMouseUp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;this.addEventListener("onMouseUp",(function(i,r){var o=i.mx,s=i.my;return n.mouseDown=!1,n.mouseInTheView(o,s),t(i,n.kline,n),"function"==typeof e?e():e}))}},{key:"destroy",value:function(){this.removeEvnetListener("onMouseEnter"),this.removeEvnetListener("onMouseLeave"),this.removeEvnetListener("onMouseMove"),this.removeEvnetListener("onMouseOut"),this.removeEvnetListener("onMouseDown"),this.removeEvnetListener("onMouseUp"),this.kline.removeComponent(this)}}],e&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,f(i.key),i)}}function f(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}function h(t,e,n){return e=y(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},p.apply(this,arguments)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}"undefined"!=typeof window&&(window.DsxBase=l),n(8132),n(5049),n(935),n(3e3),n(1879),n(2642),n(2586);var b=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=h(this,e,[t,n])).baseType=DsxBaseType.loading,i.speed=n.speed||.1,i.rotationAngle=0,i.timer=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,(i=[{key:"draw",value:function(){if(p(y(e.prototype),"draw",this).call(this),this.display){var t=this.followx?this.kline.mouseX*this.kline.dpr:this.x;if(this.x=t,this.followy&&this.kline.lockCrossingY<=0){var n=this.followy?this.kline.mouseY*this.kline.dpr-this.height/2:this.y;this.y=n,this.y=Math.max(this.y,this.kline.paddingTop),this.y=Math.min(this.y,this.kline.height-this.kline.paddingBottom-this.height)}if(this.followKline){var i=this.followKline,r=i.date,o=i.time,s=i.price,u=i.location,l=this.kline.getPointWithDate(r+(o||""),s,u);if(!l)return;var c=l.x,a=l.y;l.top,this.drawEvent,this.x=c,this.y=a}this.hideWhenBound()||(this.drawEvent?this.drawEvent(this,this.kline):this._createRect(this.x,this.y))}}},{key:"_createRect",value:function(t,e){var n=this.kline.context,i=this.width/2,r=this.height/2,o=Math.min(i,r),s=this.rotationAngle,u=s+2*Math.PI/4;n.lineWidth=this.borderWidth,n.strokeStyle=this.fillColor,n.beginPath(),n.arc(t,e,o,0,2*Math.PI),n.stroke(),n.strokeStyle=this.borderColor,n.beginPath(),n.arc(t,e,o,s,u),n.stroke(),this.rotationAngle+=this.speed,this.rotationAngle>=2*Math.PI&&(this.rotationAngle=0)}}])&&a(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(l);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,m(i.key),i)}}function m(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=w(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}function k(t,e,n){return e=P(e),function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,x()?Reflect.construct(e,n||[],P(t).constructor):e.apply(t,n))}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},S.apply(this,arguments)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}"undefined"!=typeof window&&(window.DsxLoading=b);var E=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=k(this,e,[t,n])).baseType=DsxBaseType.rect,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),n=e,i=[{key:"draw",value:function(){if(S(P(e.prototype),"draw",this).call(this),this.display){var t=this.followx?this.kline.mouseX*this.kline.dpr:this.x;if(this.x=t,this.followy&&this.kline.lockCrossingY<=0){var n=this.followy?this.kline.mouseY*this.kline.dpr-this.height/2:this.y;this.y=n,this.y=Math.max(this.y,this.kline.paddingTop),this.y=Math.min(this.y,this.kline.height-this.kline.paddingBottom-this.height)}if(this.followKline){var i=this.followKline,r=i.date,o=i.time,s=i.price,u=i.location,l=i.offsetIndex,c=this.kline.getPointWithDate(r+(o||""),s,u);if(l&&(c.x=c.x+l*(this.kline.klineWidth+this.kline.klinePadding)),!c)return;var a=c.x,f=c.y,h=c.top;this.drawEvent?(this.x=a,this.y=f):0==u&&s>0?(this.x=a-this.width/2,this.y=f-this.height/2):(this.x=a-this.width/2,this.y=h?f-this.height/2:f+this.height/2)}this.hideWhenBound()||(this.drawEvent?this.drawEvent(this,this.kline):(0==this.drawType&&this.borderWidth>0&&this._drawRoundRect(this.x,this.y,this.width,this.height,this.borderWidth,this.borderRadius,this.strokeStyle||this.borderColor,!1),1==this.drawType&&this._drawRoundRect(this.x,this.y,this.width,this.height,this.borderWidth,this.borderRadius,this.fillColor,!0),2==this.drawType&&(this._drawRoundRect(this.x,this.y,this.width,this.height,this.borderWidth,this.borderRadius,this.fillColor,!0),this.borderWidth>0&&this._drawRoundRect(this.x,this.y,this.width,this.height,this.borderWidth,this.borderRadius,this.strokeStyle||this.borderColor,!1)),this.bgImage&&this.kline.context.drawImage(this.bgImage,this.x,this.y,this.width,this.height)))}}},{key:"_drawRoundRect",value:function(t,e,n,i,r,o,s){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];n<2*o&&(o=n/2),i<2*o&&(o=i/2);var l=o,c=o,a=o,f=o;"object"==w(o)&&(l=o[0],c=o.length>1?o[1]:0,a=o.length>2?o[2]:0,f=o.length>3?o[3]:0),this.kline.context.beginPath(),this.kline.context.setLineDash([]),this.kline.context.lineWidth=r,this.kline.context.moveTo(t+l,e),this.kline.context.arcTo(t+n,e,t+n,e+i,l),this.kline.context.arcTo(t+n,e+i,t,e+i,c),this.kline.context.arcTo(t,e+i,t,e,a),this.kline.context.arcTo(t,e,t+n,e,f),this.kline.context.closePath(),u&&(this.kline.context.fillStyle=s,this.kline.context.fill()),u||(this.kline.context.strokeStyle=s,this.kline.context.stroke())}}],i&&g(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(l);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,A(i.key),i)}}function A(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=j(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==j(e)?e:e+""}function _(t,e,n){return e=F(e),function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,M()?Reflect.construct(e,n||[],F(t).constructor):e.apply(t,n))}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(M=function(){return!!t})()}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},C.apply(this,arguments)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}"undefined"!=typeof window&&(window.DsxRect=E);var R=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=_(this,e,[t,n])).baseType=DsxBaseType.any,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(e,t),n=e,(i=[{key:"draw",value:function(){C(F(e.prototype),"draw",this).call(this),this.drawEvent&&this.drawEvent(this,this.kline)}}])&&T(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(l);"undefined"!=typeof window&&(window.DsxAny=R),"undefined"!=typeof window&&(window.DsxBaseType=u,window.DsxBase=l,window.DsxRect=E,window.DsxLoading=b,window.DsxAny=R)},2508:function(t,e,n){"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,s,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(u.push(i.value),u.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}n.d(e,{A:function(){return l}}),n(7482),n(7849),n(8604),n(7762),n(9650),n(4509),n(6064),n(7899),n(2975),n(5165),n(5890),n(5853),n(489),n(3863);var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=[{key:"isInPolygon",value:function(t,e,n){for(var i=!1,o=0,s=n.length-1;o<n.length;s=o++){var u=r(n[o],2),l=u[0],c=u[1],a=r(n[s],2),f=a[0],h=a[1];c>e!=h>e&&t<(f-l)*(e-c)/(h-c)+l&&(i=!i)}return i}},{key:"isInRect",value:function(t,e,n){return t>=n[0][0]&&t<=n[1][0]&&e>=n[0][1]&&e<=n[1][1]}},{key:"isInCircle",value:function(t,e,n,i,r){return Math.pow(t-n,2)+Math.pow(e-i,2)<=r*r}},{key:"isInLine",value:function(t,e,n){return t>=n[0][0]&&t<=n[1][0]&&e>=n[0][1]&&e<=n[1][1]}},{key:"uid",value:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}},{key:"drawRect",value:function(t,e,n,r,o,s,u,l){var c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];r<2*u&&(u=r/2),o<2*u&&(u=o/2);var a=u,f=u,h=u,d=u;"object"==i(u)&&(a=u[0],f=u.length>1?u[1]:0,h=u.length>2?u[2]:0,d=u.length>3?u[3]:0),t.beginPath(),t.setLineDash([]),t.lineWidth=s,t.moveTo(e+a,n),t.arcTo(e+r,n,e+r,n+o,a),t.arcTo(e+r,n+o,e,n+o,f),t.arcTo(e,n+o,e,n,h),t.arcTo(e,n,e+r,n,d),t.closePath(),c&&(t.fillStyle=l,t.fill()),c||(t.strokeStyle=l,t.stroke())}},{key:"drawPath",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.beginPath(),r&&t.setLineDash(r),t.lineWidth=n,t.strokeStyle=i,t.moveTo(e[0][0],e[0][1]);for(var s=1;s<e.length;s++)t.lineTo(e[s][0],e[s][1]);o?(t.fillStyle=i,t.fill()):t.stroke()}},{key:"getRectBetweenPoints",value:function(t,e,n,i,r){var o=n-t,s=i-e,u=Math.sqrt(o*o+s*s),l=s/u*(r/2),c=-o/u*(r/2);return[[t-l,e-c],[t+l,e+c],[n+l,i+c],[n-l,i-c]]}},{key:"drawLine",value:function(t,e,n,i,r,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];t.beginPath(),t.setLineDash(u),t.lineWidth=o,t.strokeStyle=s,t.moveTo(e,n),t.lineTo(i,r),t.stroke()}},{key:"drawText",value:function(e,n,i,r,o,s,u){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"left",a=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"top";e.font=l+" "+o+"px "+s,e.fillStyle=u,e.textAlign=c,e.textBaseline=a;var f=t.getTextSize(e,n,o,s,l),h=f.actualBoundingBoxAscent-f.height/2;e.fillText(n,i,r+h)}},{key:"getTextSize",value:function(t,e,n,i,r){t.font=r+" "+n+"px "+i;var o=t.measureText(e),s=o.actualBoundingBoxAscent+o.actualBoundingBoxDescent;return null==s&&(s=n),o.height=s,o}},{key:"drawArrow",value:function(t,e,n,i,r,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Math.PI/6,c=r,a=e-c*Math.cos(i-l),f=n-c*Math.sin(i-l),h=e-c*Math.cos(i+l),d=n-c*Math.sin(i+l);t.lineWidth=o,t.strokeStyle=s,u&&t.setLineDash(u),t.beginPath(),t.moveTo(e,n),t.lineTo(a,f),t.moveTo(e,n),t.lineTo(h,d),t.stroke()}}],null&&s(e.prototype,null),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}()},3387:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},8184:function(t,e,n){var i=n(7574)("unscopables"),r=Array.prototype;null==r[i]&&n(3341)(r,i,{}),t.exports=function(t){r[i][t]=!0}},4228:function(t,e,n){var i=n(3305);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},5564:function(t,e,n){"use strict";var i=n(8270),r=n(157),o=n(1485);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,u=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>u;)e[u++]=t;return e}},1464:function(t,e,n){var i=n(7221),r=n(1485),o=n(157);t.exports=function(t){return function(e,n,s){var u,l=i(e),c=r(l.length),a=o(s,c);if(t&&n!=n){for(;c>a;)if((u=l[a++])!=u)return!0}else for(;c>a;a++)if((t||a in l)&&l[a]===n)return t||a||0;return!t&&-1}}},6179:function(t,e,n){var i=n(5052),r=n(1249),o=n(8270),s=n(1485),u=n(5572);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,a=4==t,f=6==t,h=5==t||f,d=e||u;return function(e,u,p){for(var y,v,b=o(e),w=r(b),g=i(u,p,3),m=s(w.length),k=0,x=n?d(e,m):l?d(e,0):void 0;m>k;k++)if((h||k in w)&&(v=g(y=w[k],k,b),t))if(n)x[k]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return k;case 2:x.push(y)}else if(a)return!1;return f?-1:c||a?a:x}}},3606:function(t,e,n){var i=n(3305),r=n(7981),o=n(7574)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},5572:function(t,e,n){var i=n(3606);t.exports=function(t,e){return new(i(t))(e)}},5538:function(t,e,n){"use strict";var i=n(3387),r=n(3305),o=n(4877),s=[].slice,u={};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),l=function(){var i=n.concat(s.call(arguments));return this instanceof l?function(t,e,n){if(!(e in u)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";u[e]=Function("F,a","return new F("+i.join(",")+")")}return u[e](t,n)}(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(l.prototype=e.prototype),l}},4848:function(t,e,n){var i=n(5089),r=n(7574)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},5089:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},6094:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},7227:function(t,e,n){"use strict";var i=n(7967),r=n(1996);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},5052:function(t,e,n){var i=n(3387);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},3344:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},1763:function(t,e,n){t.exports=!n(9448)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6034:function(t,e,n){var i=n(3305),r=n(7526).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},6140:function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5969:function(t,e,n){var i=n(1311),r=n(1060),o=n(8449);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,u=n(t),l=o.f,c=0;u.length>c;)l.call(t,s=u[c++])&&e.push(s);return e}},2127:function(t,e,n){var i=n(7526),r=n(6094),o=n(3341),s=n(8859),u=n(5052),l="prototype",c=function(t,e,n){var a,f,h,d,p=t&c.F,y=t&c.G,v=t&c.S,b=t&c.P,w=t&c.B,g=y?i:v?i[e]||(i[e]={}):(i[e]||{})[l],m=y?r:r[e]||(r[e]={}),k=m[l]||(m[l]={});for(a in y&&(n=e),n)h=((f=!p&&g&&void 0!==g[a])?g:n)[a],d=w&&f?u(h,i):b&&"function"==typeof h?u(Function.call,h):h,g&&s(g,a,h,t&c.U),m[a]!=h&&o(m,a,d),b&&k[a]!=h&&(k[a]=h)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},9448:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},1158:function(t,e,n){"use strict";var i=n(4228);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},9461:function(t,e,n){t.exports=n(4556)("native-function-to-string",Function.toString)},7526:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},7917:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3341:function(t,e,n){var i=n(7967),r=n(1996);t.exports=n(1763)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},1308:function(t,e,n){var i=n(7526).document;t.exports=i&&i.documentElement},2956:function(t,e,n){t.exports=!n(1763)&&!n(9448)((function(){return 7!=Object.defineProperty(n(6034)("div"),"a",{get:function(){return 7}}).a}))},8880:function(t,e,n){var i=n(3305),r=n(5170).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},4877:function(t){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},1249:function(t,e,n){var i=n(5089);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},1508:function(t,e,n){var i=n(906),r=n(7574)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},7981:function(t,e,n){var i=n(5089);t.exports=Array.isArray||function(t){return"Array"==i(t)}},3305:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},7368:function(t,e,n){var i=n(4228);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},6032:function(t,e,n){"use strict";var i=n(4719),r=n(1996),o=n(3844),s={};n(3341)(s,n(7574)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},8175:function(t,e,n){"use strict";var i=n(2750),r=n(2127),o=n(8859),s=n(3341),u=n(906),l=n(6032),c=n(3844),a=n(627),f=n(7574)("iterator"),h=!([].keys&&"next"in[].keys()),d="keys",p="values",y=function(){return this};t.exports=function(t,e,n,v,b,w,g){l(n,e,v);var m,k,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case d:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",O=b==p,E=!1,j=t.prototype,T=j[f]||j["@@iterator"]||b&&j[b],A=T||S(b),_=b?O?S("entries"):A:void 0,M="Array"==e&&j.entries||T;if(M&&(x=a(M.call(new t)))!==Object.prototype&&x.next&&(c(x,P,!0),i||"function"==typeof x[f]||s(x,f,y)),O&&T&&T.name!==p&&(E=!0,A=function(){return T.call(this)}),i&&!g||!h&&!E&&j[f]||s(j,f,A),u[e]=A,u[P]=y,b)if(m={values:O?A:S(p),keys:w?A:S(d),entries:_},g)for(k in m)k in j||o(j,k,m[k]);else r(r.P+r.F*(h||E),e,m);return m}},8931:function(t,e,n){var i=n(7574)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},4970:function(t){t.exports=function(t,e){return{value:e,done:!!t}}},906:function(t){t.exports={}},2750:function(t){t.exports=!1},2988:function(t,e,n){var i=n(4415)("meta"),r=n(3305),o=n(7917),s=n(7967).f,u=0,l=Object.isExtensible||function(){return!0},c=!n(9448)((function(){return l(Object.preventExtensions({}))})),a=function(t){s(t,i,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";a(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;a(t)}return t[i].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!o(t,i)&&a(t),t}}},4719:function(t,e,n){var i=n(4228),r=n(1626),o=n(6140),s=n(766)("IE_PROTO"),u=function(){},l="prototype",c=function(){var t,e=n(6034)("iframe"),i=o.length;for(e.style.display="none",n(1308).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c[l][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[l]=i(t),n=new u,u[l]=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},7967:function(t,e,n){var i=n(4228),r=n(2956),o=n(3048),s=Object.defineProperty;e.f=n(1763)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},1626:function(t,e,n){var i=n(7967),r=n(4228),o=n(1311);t.exports=n(1763)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),u=s.length,l=0;u>l;)i.f(t,n=s[l++],e[n]);return t}},8641:function(t,e,n){var i=n(8449),r=n(1996),o=n(7221),s=n(3048),u=n(7917),l=n(2956),c=Object.getOwnPropertyDescriptor;e.f=n(1763)?c:function(t,e){if(t=o(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return r(!i.f.call(t,e),t[e])}},4765:function(t,e,n){var i=n(7221),r=n(9415).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},9415:function(t,e,n){var i=n(4561),r=n(6140).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},1060:function(t,e){e.f=Object.getOwnPropertySymbols},627:function(t,e,n){var i=n(7917),r=n(8270),o=n(766)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},4561:function(t,e,n){var i=n(7917),r=n(7221),o=n(1464)(!1),s=n(766)("IE_PROTO");t.exports=function(t,e){var n,u=r(t),l=0,c=[];for(n in u)n!=s&&i(u,n)&&c.push(n);for(;e.length>l;)i(u,n=e[l++])&&(~o(c,n)||c.push(n));return c}},1311:function(t,e,n){var i=n(4561),r=n(6140);t.exports=Object.keys||function(t){return i(t,r)}},8449:function(t,e){e.f={}.propertyIsEnumerable},923:function(t,e,n){var i=n(2127),r=n(6094),o=n(9448);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},3854:function(t,e,n){var i=n(1763),r=n(1311),o=n(7221),s=n(8449).f;t.exports=function(t){return function(e){for(var n,u=o(e),l=r(u),c=l.length,a=0,f=[];c>a;)n=l[a++],i&&!s.call(u,n)||f.push(t?[n,u[n]]:u[n]);return f}}},1996:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8859:function(t,e,n){var i=n(7526),r=n(3341),o=n(7917),s=n(4415)("src"),u=n(9461),l="toString",c=(""+u).split(l);n(6094).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,s)||r(n,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:u?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||u.call(this)}))},5170:function(t,e,n){var i=n(3305),r=n(4228),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(5052)(Function.call,n(8641).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},3844:function(t,e,n){var i=n(7967).f,r=n(7917),o=n(7574)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},766:function(t,e,n){var i=n(4556)("keys"),r=n(4415);t.exports=function(t){return i[t]||(i[t]=r(t))}},4556:function(t,e,n){var i=n(6094),r=n(7526),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(2750)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},6884:function(t,e,n){"use strict";var i=n(9448);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},1212:function(t,e,n){var i=n(7087),r=n(3344);t.exports=function(t){return function(e,n){var o,s,u=String(r(e)),l=i(n),c=u.length;return l<0||l>=c?t?"":void 0:(o=u.charCodeAt(l))<55296||o>56319||l+1===c||(s=u.charCodeAt(l+1))<56320||s>57343?t?u.charAt(l):o:t?u.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},629:function(t,e,n){var i=n(2127),r=n(3344),o=n(9448),s=n(8451),u="["+s+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),a=function(t,e,n){var r={},u=o((function(){return!!s[t]()||"​"!="​"[t]()})),l=r[t]=u?e(f):s[t];n&&(r[n]=l),i(i.P+i.F*u,"String",r)},f=a.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=a},8451:function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},157:function(t,e,n){var i=n(7087),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},7087:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7221:function(t,e,n){var i=n(1249),r=n(3344);t.exports=function(t){return i(r(t))}},1485:function(t,e,n){var i=n(7087),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},8270:function(t,e,n){var i=n(3344);t.exports=function(t){return Object(i(t))}},3048:function(t,e,n){var i=n(3305);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},4415:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},5392:function(t,e,n){var i=n(7526),r=n(6094),o=n(2750),s=n(7960),u=n(7967).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:s.f(t)})}},7960:function(t,e,n){e.f=n(7574)},7574:function(t,e,n){var i=n(4556)("wks"),r=n(4415),o=n(7526).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},762:function(t,e,n){var i=n(4848),r=n(7574)("iterator"),o=n(906);t.exports=n(6094).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},7762:function(t,e,n){var i=n(2127);i(i.P,"Array",{fill:n(5564)}),n(8184)("fill")},3504:function(t,e,n){"use strict";var i=n(2127),r=n(6179)(0),o=n(6884)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},3863:function(t,e,n){"use strict";var i=n(5052),r=n(2127),o=n(8270),s=n(7368),u=n(1508),l=n(1485),c=n(7227),a=n(762);r(r.S+r.F*!n(8931)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,f,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,v=void 0!==y,b=0,w=a(h);if(v&&(y=i(y,p>2?arguments[2]:void 0,2)),null==w||d==Array&&u(w))for(n=new d(e=l(h.length));e>b;b++)c(n,b,v?y(h[b],b):h[b]);else for(f=w.call(h),n=new d;!(r=f.next()).done;b++)c(n,b,v?s(f,y,[r.value,b],!0):r.value);return n.length=b,n}})},4609:function(t,e,n){"use strict";var i=n(2127),r=n(1464)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(6884)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},7899:function(t,e,n){var i=n(2127);i(i.S,"Array",{isArray:n(7981)})},5165:function(t,e,n){"use strict";var i=n(8184),r=n(4970),o=n(906),s=n(7221);t.exports=n(8175)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},5853:function(t,e,n){"use strict";var i=n(2127),r=n(1308),o=n(5089),s=n(157),u=n(1485),l=[].slice;i(i.P+i.F*n(9448)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var n=u(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),c=s(e,n),a=u(c-r),f=new Array(a),h=0;h<a;h++)f[h]="String"==i?this.charAt(r+h):this[r+h];return f}})},7849:function(t,e,n){var i=Date.prototype,r="Invalid Date",o="toString",s=i[o],u=i.getTime;new Date(NaN)+""!=r&&n(8859)(i,o,(function(){var t=u.call(this);return t==t?s.call(this):r}))},5049:function(t,e,n){var i=n(2127);i(i.P,"Function",{bind:n(5538)})},489:function(t,e,n){var i=n(7967).f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||n(1763)&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},4509:function(t,e,n){"use strict";var i=n(7526),r=n(7917),o=n(5089),s=n(8880),u=n(3048),l=n(9448),c=n(9415).f,a=n(8641).f,f=n(7967).f,h=n(629).trim,d="Number",p=i[d],y=p,v=p.prototype,b=o(n(4719)(v))==d,w="trim"in String.prototype,g=function(t){var e=u(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=w?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),c=0,a=l.length;c<a;c++)if((s=l.charCodeAt(c))<48||s>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(b?l((function(){v.valueOf.call(n)})):o(n)!=d)?s(new y(g(e)),n,p):g(e)};for(var m,k=n(1763)?c(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)r(y,m=k[x])&&!r(p,m)&&f(p,m,a(y,m));p.prototype=v,v.constructor=p,n(8859)(i,d,p)}},935:function(t,e,n){var i=n(2127);i(i.S,"Object",{create:n(4719)})},6064:function(t,e,n){var i=n(2127);i(i.S+i.F*!n(1763),"Object",{defineProperty:n(7967).f})},2642:function(t,e,n){var i=n(7221),r=n(8641).f;n(923)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},3e3:function(t,e,n){var i=n(8270),r=n(627);n(923)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},8647:function(t,e,n){var i=n(8270),r=n(1311);n(923)("keys",(function(){return function(t){return r(i(t))}}))},8132:function(t,e,n){var i=n(2127);i(i.S,"Object",{setPrototypeOf:n(5170).set})},7482:function(t,e,n){"use strict";var i=n(4848),r={};r[n(7574)("toStringTag")]="z",r+""!="[object z]"&&n(8859)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},2586:function(t,e,n){var i=n(2127),r=n(4719),o=n(3387),s=n(4228),u=n(3305),l=n(9448),c=n(5538),a=(n(7526).Reflect||{}).construct,f=l((function(){function t(){}return!(a((function(){}),[],t)instanceof t)})),h=!l((function(){a((function(){}))}));i(i.S+i.F*(f||h),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return a(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,d=r(u(l)?l:Object.prototype),p=Function.apply.call(t,d,e);return u(p)?p:d}})},1879:function(t,e,n){var i=n(8641),r=n(627),o=n(7917),s=n(2127),u=n(3305),l=n(4228);s(s.S,"Reflect",{get:function t(e,n){var s,c,a=arguments.length<3?e:arguments[2];return l(e)===a?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(a):void 0:u(c=r(e))?t(c,n,a):void 0}})},9638:function(t,e,n){n(1763)&&"g"!=/./g.flags&&n(7967).f(RegExp.prototype,"flags",{configurable:!0,get:n(1158)})},8604:function(t,e,n){"use strict";n(9638);var i=n(4228),r=n(1158),o=n(1763),s="toString",u=/./[s],l=function(t){n(8859)(RegExp.prototype,s,t,!0)};n(9448)((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?l((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):u.name!=s&&l((function(){return u.call(this)}))},2975:function(t,e,n){"use strict";var i=n(1212)(!0);n(8175)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},9650:function(t,e,n){"use strict";var i=n(7526),r=n(7917),o=n(1763),s=n(2127),u=n(8859),l=n(2988).KEY,c=n(9448),a=n(4556),f=n(3844),h=n(4415),d=n(7574),p=n(7960),y=n(5392),v=n(5969),b=n(7981),w=n(4228),g=n(3305),m=n(8270),k=n(7221),x=n(3048),S=n(1996),P=n(4719),O=n(4765),E=n(8641),j=n(1060),T=n(7967),A=n(1311),_=E.f,M=T.f,C=O.f,F=i.Symbol,D=i.JSON,R=D&&D.stringify,L="prototype",W=d("_hidden"),I=d("toPrimitive"),B={}.propertyIsEnumerable,N=a("symbol-registry"),V=a("symbols"),K=a("op-symbols"),Y=Object[L],z="function"==typeof F&&!!j.f,H=i.QObject,X=!H||!H[L]||!H[L].findChild,U=o&&c((function(){return 7!=P(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=_(Y,e);i&&delete Y[e],M(t,e,n),i&&t!==Y&&M(Y,e,i)}:M,G=function(t){var e=V[t]=P(F[L]);return e._k=t,e},J=z&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},$=function(t,e,n){return t===Y&&$(K,e,n),w(t),e=x(e,!0),w(n),r(V,e)?(n.enumerable?(r(t,W)&&t[W][e]&&(t[W][e]=!1),n=P(n,{enumerable:S(0,!1)})):(r(t,W)||M(t,W,S(1,{})),t[W][e]=!0),U(t,e,n)):M(t,e,n)},Q=function(t,e){w(t);for(var n,i=v(e=k(e)),r=0,o=i.length;o>r;)$(t,n=i[r++],e[n]);return t},q=function(t){var e=B.call(this,t=x(t,!0));return!(this===Y&&r(V,t)&&!r(K,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,W)&&this[W][t])||e)},Z=function(t,e){if(t=k(t),e=x(e,!0),t!==Y||!r(V,e)||r(K,e)){var n=_(t,e);return!n||!r(V,e)||r(t,W)&&t[W][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=C(k(t)),i=[],o=0;n.length>o;)r(V,e=n[o++])||e==W||e==l||i.push(e);return i},et=function(t){for(var e,n=t===Y,i=C(n?K:k(t)),o=[],s=0;i.length>s;)!r(V,e=i[s++])||n&&!r(Y,e)||o.push(V[e]);return o};z||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===Y&&e.call(K,n),r(this,W)&&r(this[W],t)&&(this[W][t]=!1),U(this,t,S(1,n))};return o&&X&&U(Y,t,{configurable:!0,set:e}),G(t)},u(F[L],"toString",(function(){return this._k})),E.f=Z,T.f=$,n(9415).f=O.f=tt,n(8449).f=q,j.f=et,o&&!n(2750)&&u(Y,"propertyIsEnumerable",q,!0),p.f=function(t){return G(d(t))}),s(s.G+s.W+s.F*!z,{Symbol:F});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)d(nt[it++]);for(var rt=A(d.store),ot=0;rt.length>ot;)y(rt[ot++]);s(s.S+s.F*!z,"Symbol",{for:function(t){return r(N,t+="")?N[t]:N[t]=F(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!z,"Object",{create:function(t,e){return void 0===e?P(t):Q(P(t),e)},defineProperty:$,defineProperties:Q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var st=c((function(){j.f(1)}));s(s.S+s.F*st,"Object",{getOwnPropertySymbols:function(t){return j.f(m(t))}}),D&&s(s.S+s.F*(!z||c((function(){var t=F();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(g(e)||void 0!==t)&&!J(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),i[1]=e,R.apply(D,i)}}),F[L][I]||n(3341)(F[L],I,F[L].valueOf),f(F,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},7594:function(t,e,n){var i=n(2127),r=n(3854)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},5890:function(t,e,n){for(var i=n(5165),r=n(1311),o=n(8859),s=n(7526),u=n(3341),l=n(906),c=n(7574),a=c("iterator"),f=c("toStringTag"),h=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),y=0;y<p.length;y++){var v,b=p[y],w=d[b],g=s[b],m=g&&g.prototype;if(m&&(m[a]||u(m,a,h),m[f]||u(m,f,b),l[b]=h,w))for(v in i)m[v]||o(m,v,i[v],!0)}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(4609),n(5049),n(7762),n(3504),n(7594),n(8647),n(9650),n(4509),n(6064),n(7899),n(2975),n(7482),n(5165),n(5890),n(5853),n(489),n(3863);var t=n(2190),e=n(2508);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}var u=function(){return n=function t(e){var n,i,r,o=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=function(t){o.mouseInTheView(o.kline.mouseX*o.dpr,o.kline.mouseY*o.dpr)||o.clearViewActive();var e=o.kline.mouseX*o.dpr,n=o.kline.mouseY*o.dpr;o.editing=!1,o.addPoints(e,n),o.updateView()},(i=s(i="mouseDownHandler"))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,this.kline=e,this.option=u,this.visible=!0,this.dpr=e.dpr,this.events=[],this.view=null,this.active=!0,this.editing=!1,this.hover=!1,this.addPointsFinish=!1,this.set(u),this.editPoints={}},(i=[{key:"set",value:function(t){this.option=t,this.draggable=null==(null==t?void 0:t.draggable)||t.draggable,this.num=t.num||this.num||2,this.points=t.points||this.points||[],null!=t.visible&&(this.visible=t.visible),this.x=t.x?t.x:0,this.y=t.y?t.y:0,this.width=t.width?t.width:10,this.height=t.height?t.height:10,this.borderColor=t.borderColor||"rgba(48,119,255,0.5)",this.borderWidth=t.borderWidth?t.borderWidth:2,this.borderRadius=t.borderRadius?t.borderRadius:10,this.fillColor=t.fillColor||"rgba(48,119,255,0.01)",this.dash=t.dash?t.dash:[],this.editWidth=t.editWidth?t.editWidth:10,this.editHeight=t.editHeight?t.editHeight:10,this.editBorderRadius=t.editBorderRadius?t.editBorderRadius:this.editWidth/2,this.editFillColor=t.editFillColor||this.kline.theme.backgroundColor,this.editBorderWidth=t.editBorderWidth?t.editBorderWidth:1,this.editBorderColor=t.editBorderColor||"rgba(48,119,255,0.5)",this.editActiveWidth=t.editActiveWidth?t.editActiveWidth:10,this.editActiveFillColor=t.editActiveFillColor||this.kline.theme.backgroundColor,this.editActiveBorderWidth=t.editActiveBorderWidth?t.editActiveBorderWidth:2,this.editActiveBorderColor=t.editActiveBorderColor||"rgba(48,119,255,0.7)",this.gridPriceFillColor=t.gridPriceFillColor||"rgba(48,119,255,1)",this.gridPriceAreaFillColor=t.gridPriceAreaFillColor||"rgba(48,119,255,0.1)",this.gridPriceFontSize=t.gridPriceFontSize?t.gridPriceFontSize:this.kline.theme.gridPriceFontSize,this.gridPriceFontColor=t.gridPriceFontColor||"#fff"}},{key:"addEventListener",value:function(t,e){t.indexOf(e)<0&&(t.push(e),this.events[t]=e)}},{key:"removeEvnetListener",value:function(t){var e=this.events[t];if(e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}}},{key:"init",value:function(){this.clearViewActive(),this.createView(),this.addEventListener(this.kline.onMouseDowns,this.mouseDownHandler)}},{key:"createView",value:function(){var e=this;if(!this.view){this.view=new t.Qk(this.kline,{drawEvent:this.draw.bind(this),fillColor:this.fillColor,borderColor:this.borderColor,borderWidth:this.borderWidth,display:!0});var n=0,i=0,r=[];this.view.fill(),this.view.onMouseEnter((function(t,n,i){e.active=!0,e.setEditsTop(),e.editing||e.addPointsFinish&&(e.kline.el.style.cursor="pointer",e.hover=!0,e.setEditsStyle(!0))})),this.view.onMouseLeave((function(t,n,i){e.editing||e.addPointsFinish&&(e.kline.el.style.cursor="default",e.hover=!1,e.setEditsStyle(!1),e.setEditsTop())})),this.view.onMouseDown((function(t,o,s){e.clearViewActive(),e.active=!0,e.hover=!1,e.setViewsTop(),e.editing||e.addPointsFinish&&(n=o.mouseX,i=o.mouseY,s.mouseDown=!0,e.resetEditPointsPosition(),r=JSON.parse(JSON.stringify(e.points)),e.kline.noScroll=!0)}),(function(){return e.addPointsFinish})),this.view.onMouseMove((function(t,o,s){var u;if(e.active=!0,e.setEditsTop(),e.draggable&&!e.editing&&e.addPointsFinish&&s.mouseDown){e.kline.el.style.cursor="pointer";var l=(e.kline.mouseX-n)*e.dpr,c=(e.kline.mouseY-i)*e.dpr;(null===(u=r)||void 0===u?void 0:u.length)!=e.points.length&&(r=JSON.parse(JSON.stringify(e.points))),e.updateAllPointsPosition(l,c,r),e.setEditsStyle(!0)}}),(function(){return e.addPointsFinish})),this.view.onMouseUp((function(t,n,i){e.editing||e.addPointsFinish&&(e.kline.el.style.cursor="default",i.mouseDown=!1,e.kline.noScroll=!1,e.editing=!1)}))}}},{key:"setEditsTop",value:function(){var t=this;Object.values(this.editPoints).forEach((function(e){t.kline.sortComponent(e)}))}},{key:"setViewsTop",value:function(){var t=this;this.kline.components.forEach((function(t){t.top=!1})),this.view.top=!0,this.kline.sortComponent(this.view),Object.values(this.editPoints).forEach((function(e){e.top=!0,t.kline.sortComponent(e)})),this.setEditsTop(),this.setEditsStyle(!0)}},{key:"clearViewActive",value:function(){this.active=!1,this.kline.components.forEach((function(t){t.top=!1,"function"==typeof t.defaultStyle&&t.defaultStyle(),t.active&&(t.active=!1)})),this.view&&(this.view.top=!1),Object.values(this.editPoints).forEach((function(t){t.top=!1})),this.setEditsStyle(!1)}},{key:"updateView",value:function(){var t=0,e=0,n=0,i=0;Object.values(this.editPoints).forEach((function(r){var o=r.x,s=r.y;(o<t||0==t)&&(t=o),(o>n||0==n)&&(n=o),(s<e||0==e)&&(e=s),(s>i||0==i)&&(i=s)})),this.view.width=n-t,this.view.height=i-e,this.view.x=t,this.view.y=e}},{key:"draw",value:function(t,e){Object.keys(this.editPoints).length&&this.drawEditsYLabel()}},{key:"createEdit",value:function(){var t=this;this.points.forEach((function(e,n){var i,o,s=(o=2,function(t){if(Array.isArray(t))return t}(i=e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,s,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(u.push(i.value),u.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return u}}(i,o)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],l=s[1];t.horizontal&&(l=t.points[0][1]),t.vertical&&(u=t.points[0][0]),t.createPointEdit(u,l,n)}))}},{key:"mouseInTheView",value:function(t,n){return e.A.isInPolygon(t,n,this.points)}},{key:"getFollowKline",value:function(t,e){var n=this.kline.getKlineIndexByX(t),i=0,r=null;if(n<=0?(i=n,r=this.kline.showDatas[0]):n<=this.kline.showDatas.length-1?(i=0,r=this.kline.showDatas[n]):(i=n-(this.kline.showDatas.length-1),r=this.kline.showDatas[this.kline.showDatas.length-1]),r){var o=this.kline.getMainPriceByY(e);return o>this.kline.maxY&&(o=this.kline.maxY),o<this.kline.minY&&(o=this.kline.minY),{date:r.DATE,time:r.TIME,price:o,location:0,offsetIndex:i}}}},{key:"getLocationByFollowKline",value:function(t){var e=t.date,n=t.time,i=t.price,r=t.location,o=t.offsetIndex,s=this.kline.getPointWithDate(e+(n||""),i,r);return o&&(s.x=s.x+o*(this.kline.klineWidth+this.kline.klinePadding)),s}},{key:"createPointEdit",value:function(e,n,i){var r=this;if(!this.editPoints[i]){var o=this.getFollowKline(e,n),s=e,u=n,l=new t.KT(this.kline,{fillColor:this.editFillColor,height:this.editHeight,width:this.editWidth,borderColor:this.editBorderColor,borderWidth:this.editBorderWidth,borderRadius:this.editBorderRadius,followKline:o,display:this.visible});l.fillAndStroke(),l.onMouseEnter((function(t,e,n){r.hover=!0,r.active=!0,r.editing=!0,e.el.style.cursor="pointer",r.defaultEditStyle(l),r.activeEditStyle(l)}),!0),l.onMouseLeave((function(t,e,n){r.hover=!1,e.el.style.cursor="default",r.defaultEditStyle(l),r.editing=!1})),l.onMouseDown((function(t,e,n){r.hover=!1,r.active=!0,r.editing=!0,r.resetEditPointsPosition(),r.defaultAllEditStyle(),r.setViewsTop(),r.activeEditStyle(l),s=r.kline.mouseX,u=r.kline.mouseY,n.startX=n.x,n.startY=n.y,n.mouseDown=!0,r.view.mouseDown=!1,r.kline.noScroll=!0}),!0),l.onMouseMove((function(t,e,n){if(r.active=!0,r.kline.el.style.cursor="pointer",n.mouseDown){r.editing=!0;var o=(r.kline.mouseX-s)*r.dpr+n.startX+n.width/2,l=(r.kline.mouseY-u)*r.dpr+n.startY+n.height/2;r.updatePointPosition(n,i,o,l),r.defaultAllEditStyle(),r.activeEditStyle(n)}}),!0),l.onMouseUp((function(t,e,n){r.editing=!1,r.kline.el.style.cursor="default",n.mouseDown=!1,r.kline.noScroll=!1})),l.draw(),l.defaultStyle=this.defaultAllEditStyle.bind(this),this.editPoints[i]=l}}},{key:"updatePointPosition",value:function(t,e,n,i){var r=this;this.horizontal&&(e>0?i=this.points[0][1]+t.height/2:this.points.forEach((function(t,e){e>0&&(t[1]=i,r.editPoints[e].followKline=r.getFollowKline(t[0],t[1]))}))),this.vertical&&(e>0?n=this.points[0][0]+t.width/2:this.points.forEach((function(t,e){e>0&&(t[0]=n,r.editPoints[e].followKline=r.getFollowKline(t[0],t[1]))}))),t.followKline=this.getFollowKline(n,i),this.points[e]=[n,i]}},{key:"updateAllPointsPosition",value:function(t,e,n){var i=this;this.points.forEach((function(r,o){var s=i.editPoints[o];if(s&&n[o]){var u=n[o][0],l=n[o][1];s.followKline=i.getFollowKline(u+t,l+e),i.points[o]=[u+t,l+e]}}))}},{key:"resetEditPointsPosition",value:function(){var t=this;this.points.length<this.num||this.points.forEach((function(e,n){var i=t.editPoints[n],r=i.followKline,o=t.getLocationByFollowKline(r),s=o.x,u=o.y;o.top,i.x=s-t.editWidth*t.dpr/2,i.y=u-t.editHeight*t.dpr/2,e[0]=s-t.editWidth*t.dpr/2,e[1]=u-t.editHeight*t.dpr/2}))}},{key:"setEditsStyle",value:function(t){var e=this;Object.values(this.editPoints).forEach((function(n){t?e.activeEditStyle(n):e.defaultEditStyle(n)}))}},{key:"defaultEditStyle",value:function(t){var e=this;t.fillColor=this.hover||this.points.length<this.num?this.editFillColor:"rgba(0,0,0,0)",t.borderColor=this.editBorderColor,t.borderWidth=this.hover||this.points.length<this.num?this.editBorderWidth*this.dpr:0,Object.values(this.editPoints).forEach((function(e){e.borderWidth=t.borderWidth})),this.view.top&&Object.values(this.editPoints).forEach((function(t){return e.activeEditStyle(t)}))}},{key:"defaultAllEditStyle",value:function(){var t=this;Object.values(this.editPoints).forEach((function(e){t.defaultEditStyle(e)}))}},{key:"activeEditStyle",value:function(t){t.fillColor=this.editActiveFillColor,t.borderColor=this.editActiveBorderColor,t.borderWidth=this.hover&&!t.top?this.editBorderWidth*this.dpr:this.editActiveBorderWidth*this.dpr}},{key:"addPoints",value:function(t,e){this.points.length<this.num&&this.points.push([t,e]),this.createEdit(),this.points.length>=this.num&&(this.setEditsTop(),this.addPointsFinish=!0)}},{key:"drawEditsYLabel",value:function(){var t=this;if(this.view.top||this.hover||!(this.points.length>=this.num)){var n=0,i=0,r=0,o=0,s=0,u=0,l=0,c=0;this.points.forEach((function(a,f){var h=t.editPoints[f],d=t.kline.getMainPriceByY(a[1]),p=t.kline.thousandUnit(d.toFixed(t.kline.decimalPoint)),y=e.A.getTextSize(t.kline.context,p,t.gridPriceFontSize*t.dpr,t.kline.theme.fontStyle,""),v=t.kline.theme.gridPriceHeight*t.dpr,b=t.kline.theme.gridPriceWidth*t.dpr,w=t.kline.width-t.kline.theme.gridPriceWidth*t.dpr,g=h.y-v/2+h.height/2;e.A.drawRect(t.kline.context,w,g,b,v,0,0,t.gridPriceFillColor,!0),e.A.drawText(t.kline.context,p,w+(b-y.width)/2,g+v/2,t.gridPriceFontSize*t.dpr,t.kline.theme.fontStyle,t.gridPriceFontColor);var m=h.followKline.date,k=h.followKline.time,x=t.kline.formatDate({DATE:m,TIME:k}),S=e.A.getTextSize(t.kline.context,x,t.gridPriceFontSize*t.dpr,t.kline.theme.fontStyle,""),P=t.kline.height-t.kline.paddingBottom,O=5*t.dpr,E=S.width+2*O,j=t.kline.paddingBottom,T=h.x-E/2;e.A.drawRect(t.kline.context,T,P,E,j,0,0,t.gridPriceFillColor,!0),e.A.drawText(t.kline.context,x,T+(E-S.width)/2,P+j/2,t.gridPriceFontSize*t.dpr,t.kline.theme.fontStyle,t.gridPriceFontColor),0==f&&(n=w,i=g,s=T,u=P),r=b,o=g,l=T,c=P+j})),this.points.length<=1&&(o=this.kline.mouseY*this.dpr,l=this.kline.mouseX*this.dpr),e.A.drawRect(this.kline.context,n,Math.min(i,o),r,Math.abs(i-o),0,0,this.gridPriceAreaFillColor,!0),e.A.drawRect(this.kline.context,Math.min(s,l),Math.min(u,c),Math.abs(s-l),Math.abs(u-c),0,0,this.gridPriceAreaFillColor,!0)}}},{key:"setVisible",value:function(t){this.visible=t}},{key:"setDraggable",value:function(t){this.draggable=t}},{key:"destroy",value:function(){this.removeEvnetListener(this.kline.onMouseDowns,this.mouseDownHandler)}}])&&o(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,s,u=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(u.push(i.value),u.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,h(i.key),i)}}function h(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}function d(t,e,n){return e=v(e),function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},y.apply(this,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}"undefined"!=typeof window&&(window.DsxBaseView=u),n(8132),n(935),n(3e3),n(2586),n(1879),n(2642);var w=function(t){function n(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=d(this,n,[t,e])).extended=e.extended,i.extendedHead=null==e.extendedHead||e.extendedHead,i.extendedFoot=null==e.extendedFoot||e.extendedFoot,i.horizontal=e.horizontal,i.vertical=e.vertical,i.arrow=e.arrow,i.num=2,i.init(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(n,t),i=n,(r=[{key:"updateView",value:function(){var t,n;if(Object.keys(this.editPoints).length){var i=this.editPoints[0].x+this.editWidth*this.dpr/2,r=this.editPoints[0].y+this.editHeight*this.dpr/2,o=(null===(t=this.editPoints[1])||void 0===t?void 0:t.x)||this.kline.mouseX*this.dpr,s=(null===(n=this.editPoints[1])||void 0===n?void 0:n.y)||this.kline.mouseY*this.dpr;if(this.points.length>=this.num&&(o+=this.editWidth*this.dpr/2,s+=this.editHeight*this.dpr/2,this.horizontal&&(s=r+(this.points.length>=this.num?this.editWidth*this.dpr/2:0)),this.vertical&&(o=i+(this.points.length>=this.num?this.editHeight*this.dpr/2:0))),this.view.width=o-i,this.view.height=s-r,this.view.x=i,this.view.y=r,this.extended&&this.view.startPoint&&this.view.endPoint){var u=c(this.view.startPoint,2),l=u[0],a=u[1],f=c(this.view.endPoint,2);i=l,r=a,o=f[0],s=f[1],this.horizontal&&(s=r),this.vertical&&(o=i)}this.view.points=e.A.getRectBetweenPoints(i,r,o,s,this.editWidth*this.dpr)}}},{key:"drawBg",value:function(){e.A.drawPath(this.kline.context,this.view.points,this.view.borderWidth,this.view.fillColor,this.dash,!0)}},{key:"drawArrow",value:function(t,n,i,r){var o=Math.atan2(r-n,i-t);e.A.drawArrow(this.kline.context,i,r,o,20*this.dpr,this.borderWidth*this.dpr,this.borderColor)}},{key:"draw",value:function(t,i){if(y(v(n.prototype),"draw",this).call(this,t,i),Object.keys(this.editPoints).length){this.updateView();var r=t.x,o=t.y,s=r+t.width,u=o+t.height;if(this.horizontal&&(u=o),this.vertical&&(s=r),Object.keys(this.editPoints).length){if(this.extended){this.kline.width;var l=Math.atan2(u-o,s-r),c=Math.abs(Math.max(this.kline.width,r,s))+Math.abs(s-r),a=this.extendedFoot?s+c*Math.cos(l):s,f=this.extendedFoot?u+c*Math.sin(l):u,h=this.kline.width+Math.abs(Math.max(r,s))+Math.abs(s-r),d=this.extendedHead?r-h*Math.cos(l):r,p=this.extendedHead?o-h*Math.sin(l):o;t.startPoint=[d,p],t.endPoint=[a,f],e.A.drawLine(this.kline.context,d,p,a,f,t.borderWidth,t.borderColor,this.dash)}else e.A.drawLine(this.kline.context,r,o,s,u,t.borderWidth,t.borderColor,this.dash);this.arrow&&this.drawArrow(r,o,s,u)}}}}])&&f(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,r}(u);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(t,e,n){return e=x(e),function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,k()?Reflect.construct(e,n||[],x(t).constructor):e.apply(t,n))}function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(k=function(){return!!t})()}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}"undefined"!=typeof window&&(window.DsxBaseLine=w);var P=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,e,[t,n])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(w);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function E(t,e,n){return e=T(e),function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j=function(){return!!t})()}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}"undefined"!=typeof window&&(window.DsxTrendLine=P);var _=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=E(this,e,[t,n])).extended=!0,i.extendedHead=null!=n.extendedFoot&&n.extendedFoot,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(w);"undefined"!=typeof window&&(window.DsxRayLine=_),"undefined"!=typeof window&&(window.DsxBaseView=u,window.DsxTrendLine=P,window.DsxRayLine=_,window.DsxBaseLine=w)}()}();